<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RBAC Application Data Flow Documentation</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        
        .container {
            background-color: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-top: 30px;
        }
        
        h1:first-child {
            margin-top: 0;
        }
        
        h2 {
            color: #34495e;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 5px;
            margin-top: 25px;
        }
        
        h3 {
            color: #2c3e50;
            margin-top: 20px;
        }
        
        h4 {
            color: #7f8c8d;
            margin-top: 15px;
        }
        
        code {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 3px;
            padding: 2px 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        pre {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 15px;
            overflow-x: auto;
        }
        
        pre code {
            background-color: transparent;
            border: none;
            padding: 0;
        }
        
        blockquote {
            border-left: 4px solid #3498db;
            margin: 20px 0;
            padding: 10px 20px;
            background-color: #f8f9fa;
            font-style: italic;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background-color: #3498db;
            color: white;
            font-weight: bold;
        }
        
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        
        ul, ol {
            margin: 15px 0;
            padding-left: 30px;
        }
        
        li {
            margin: 5px 0;
        }
        
        a {
            color: #3498db;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 2px solid #ecf0f1;
        }
        
        .header h1 {
            color: #2c3e50;
            margin: 0;
            border: none;
        }
        
        .header p {
            color: #7f8c8d;
            margin: 10px 0 0 0;
        }
        
        .print-button {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            z-index: 1000;
        }
        
        .print-button:hover {
            background-color: #2980b9;
        }
        
        @media print {
            .print-button {
                display: none;
            }
            
            body {
                background-color: white;
            }
            
            .container {
                box-shadow: none;
                padding: 0;
            }
        }
    </style>
</head>
<body>
    <button class="print-button" onclick="window.print()">🖨️ Print PDF</button>
    
    <div class="container">
        <div class="header">
            <h1>RBAC Application Data Flow Documentation</h1>
            <p>RBAC Application Documentation</p>
        </div>
        
        <p><h1>RBAC Application Data Flow Documentation</h1></p><p><h2>Overview</h2></p><p>This document describes the data flow patterns and interactions within the RBAC application, including authentication, authorization, CRUD operations, and state management.</p><p><h2>Authentication Data Flow</h2></p><p><h3>Login Process</h3><br><pre><code><br>┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐<br>│   User      │    │  Frontend   │    │   Backend   │    │  Database   │<br>│             │    │             │    │             │    │             │<br>└──────┬──────┘    └──────┬──────┘    └──────┬──────┘    └──────┬──────┘<br>       │                  │                  │                  │<br>       │ 1. Enter         │                  │                  │<br>       │ credentials      │                  │                  │<br>       ├─────────────────►│                  │                  │<br>       │                  │                  │                  │<br>       │                  │ 2. POST /api/    │                  │<br>       │                  │ auth/login       │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │                  │                  │ 3. Validate      │<br>       │                  │                  │ credentials      │<br>       │                  │                  ├─────────────────►│<br>       │                  │                  │                  │<br>       │                  │                  │ 4. User data     │<br>       │                  │                  │◄─────────────────┤<br>       │                  │                  │                  │<br>       │                  │                  │ 5. Generate JWT  │<br>       │                  │                  │ token            │<br>       │                  │                  │                  │<br>       │                  │ 6. Return token  │                  │<br>       │                  │ and user data    │                  │<br>       │                  │◄─────────────────┤                  │<br>       │                  │                  │                  │<br>       │ 7. Redirect to   │                  │                  │<br>       │ dashboard        │                  │                  │<br>       │◄─────────────────┤                  │                  │<br>       │                  │                  │                  │<br></code></pre></p><p><h3>Logout Process</h3><br><pre><code><br>┌─────────────┐    ┌─────────────┐    ┌─────────────┐<br>│   User      │    │  Frontend   │    │   Backend   │<br>│             │    │             │    │             │<br>└──────┬──────┘    └──────┬──────┘    └──────┬──────┘<br>       │                  │                  │<br>       │ 1. Click logout  │                  │<br>       ├─────────────────►│                  │<br>       │                  │                  │<br>       │                  │ 2. POST /api/    │<br>       │                  │ auth/logout      │<br>       │                  ├─────────────────►│<br>       │                  │                  │<br>       │                  │ 3. Clear tokens  │<br>       │                  │◄─────────────────┤<br>       │                  │                  │<br>       │ 4. Redirect to   │                  │<br>       │ login page       │                  │<br>       │◄─────────────────┤                  │<br></code></pre></p><p><h2>Authorization Data Flow</h2></p><p><h3>Route Protection</h3><br><pre><code><br>┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐<br>│   User      │    │ProtectedRoute│    │   Redux     │    │   Backend   │<br>│             │    │             │    │   Store     │    │             │<br>└──────┬──────┘    └──────┬──────┘    └──────┬──────┘    └──────┬──────┘<br>       │                  │                  │                  │<br>       │ 1. Navigate to   │                  │                  │<br>       │ protected route  │                  │                  │<br>       ├─────────────────►│                  │                  │<br>       │                  │                  │                  │<br>       │                  │ 2. Check auth    │                  │<br>       │                  │ status           │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │                  │ 3. Auth status   │                  │<br>       │                  │◄─────────────────┤                  │<br>       │                  │                  │                  │<br>       │                  │ 4. Check         │                  │<br>       │                  │ permissions      │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │                  │ 5. User          │                  │<br>       │                  │ permissions      │                  │<br>       │                  │◄─────────────────┤                  │<br>       │                  │                  │                  │<br>       │ 6a. Render       │                  │                  │<br>       │ component        │                  │                  │<br>       │◄─────────────────┤                  │                  │<br>       │                  │                  │                  │<br>       │ 6b. Redirect to  │                  │                  │<br>       │ unauthorized     │                  │                  │<br>       │◄─────────────────┤                  │                  │<br></code></pre></p><p><h2>CRUD Operations Data Flow</h2></p><p><h3>User Management Flow</h3></p><p>#### Create User<br><pre><code><br>┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐<br>│   User      │    │UserMgmt Page│    │   Backend   │    │  Database   │<br>│             │    │             │    │             │    │             │<br>└──────┬──────┘    └──────┬──────┘    └──────┬──────┘    └──────┬──────┘<br>       │                  │                  │                  │<br>       │ 1. Fill form     │                  │                  │<br>       │ and submit       │                  │                  │<br>       ├─────────────────►│                  │                  │<br>       │                  │                  │                  │<br>       │                  │ 2. POST /api/    │                  │<br>       │                  │ users            │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │                  │                  │ 3. Validate      │<br>       │                  │                  │ input data       │<br>       │                  │                  │                  │<br>       │                  │                  │ 4. Hash password │<br>       │                  │                  │                  │<br>       │                  │                  │ 5. Save to DB    │<br>       │                  │                  ├─────────────────►│<br>       │                  │                  │                  │<br>       │                  │                  │ 6. New user      │<br>       │                  │                  │◄─────────────────┤<br>       │                  │                  │                  │<br>       │                  │ 7. Success       │                  │<br>       │                  │ response         │                  │<br>       │                  │◄─────────────────┤                  │<br>       │                  │                  │                  │<br>       │ 8. Update UI     │                  │                  │<br>       │◄─────────────────┤                  │                  │<br></code></pre></p><p>#### Read Users<br><pre><code><br>┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐<br>│   User      │    │UserMgmt Page│    │   Backend   │    │  Database   │<br>│             │    │             │    │             │    │             │<br>└──────┬──────┘    └──────┬──────┘    └──────┬──────┘    └──────┬──────┘<br>       │                  │                  │                  │<br>       │ 1. Load page     │                  │                  │<br>       ├─────────────────►│                  │                  │<br>       │                  │                  │                  │<br>       │                  │ 2. GET /api/     │                  │<br>       │                  │ users            │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │                  │                  │ 3. Query users   │<br>       │                  │                  ├─────────────────►│<br>       │                  │                  │                  │<br>       │                  │                  │ 4. Users list    │<br>       │                  │                  │◄─────────────────┤<br>       │                  │                  │                  │<br>       │                  │ 5. Users data    │                  │<br>       │                  │◄─────────────────┤                  │<br>       │                  │                  │                  │<br>       │ 6. Display users │                  │                  │<br>       │◄─────────────────┤                  │                  │<br></code></pre></p><p>#### Update User<br><pre><code><br>┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐<br>│   User      │    │UserMgmt Page│    │   Backend   │    │  Database   │<br>│             │    │             │    │             │    │             │<br>└──────┬──────┘    └──────┬──────┘    └──────┬──────┘    └──────┬──────┘<br>       │                  │                  │                  │<br>       │ 1. Edit user     │                  │                  │<br>       │ data and submit  │                  │                  │<br>       ├─────────────────►│                  │                  │<br>       │                  │                  │                  │<br>       │                  │ 2. PUT /api/     │                  │<br>       │                  │ users/:id        │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │                  │                  │ 3. Validate      │<br>       │                  │                  │ input data       │<br>       │                  │                  │                  │<br>       │                  │                  │ 4. Update user   │<br>       │                  │                  ├─────────────────►│<br>       │                  │                  │                  │<br>       │                  │                  │ 5. Updated user  │<br>       │                  │                  │◄─────────────────┤<br>       │                  │                  │                  │<br>       │                  │ 6. Success       │                  │<br>       │                  │ response         │                  │<br>       │                  │◄─────────────────┤                  │<br>       │                  │                  │                  │<br>       │ 7. Update UI     │                  │                  │<br>       │◄─────────────────┤                  │                  │<br></code></pre></p><p>#### Delete User<br><pre><code><br>┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐<br>│   User      │    │UserMgmt Page│    │   Backend   │    │  Database   │<br>│             │    │             │    │             │    │             │<br>└──────┬──────┘    └──────┬──────┘    └──────┬──────┘    └──────┬──────┘<br>       │                  │                  │                  │<br>       │ 1. Click delete  │                  │                  │<br>       │ button           │                  │                  │<br>       ├─────────────────►│                  │                  │<br>       │                  │                  │                  │<br>       │                  │ 2. DELETE /api/  │                  │<br>       │                  │ users/:id        │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │                  │                  │ 3. Delete user   │<br>       │                  │                  ├─────────────────►│<br>       │                  │                  │                  │<br>       │                  │                  │ 4. Confirmation  │<br>       │                  │                  │◄─────────────────┤<br>       │                  │                  │                  │<br>       │                  │ 5. Success       │                  │<br>       │                  │ response         │                  │<br>       │                  │◄─────────────────┤                  │<br>       │                  │                  │                  │<br>       │ 6. Remove from   │                  │                  │<br>       │ UI               │                  │                  │<br>       │◄─────────────────┤                  │                  │<br></code></pre></p><p><h2>State Management Data Flow</h2></p><p><h3>Redux State Flow</h3><br><pre><code><br>┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐<br>│ Component   │    │   Action    │    │   Reducer   │    │   Store     │<br>│             │    │             │    │             │    │             │<br>└──────┬──────┘    └──────┬──────┘    └──────┬──────┘    └──────┬──────┘<br>       │                  │                  │                  │<br>       │ 1. Dispatch      │                  │                  │<br>       │ action           │                  │                  │<br>       ├─────────────────►│                  │                  │<br>       │                  │                  │                  │<br>       │                  │ 2. Action        │                  │<br>       │                  │ dispatched       │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │                  │                  │ 3. Process       │<br>       │                  │                  │ action           │<br>       │                  │                  ├─────────────────►│<br>       │                  │                  │                  │<br>       │                  │                  │ 4. New state     │<br>       │                  │                  │◄─────────────────┤<br>       │                  │                  │                  │<br>       │ 5. Component     │                  │                  │<br>       │ re-renders       │                  │                  │<br>       │◄─────────────────┤                  │                  │<br></code></pre></p><p><h3>Async Action Flow (Redux Toolkit)</h3><br><pre><code><br>┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐<br>│ Component   │    │Async Thunk  │    │   API       │    │   Backend   │<br>│             │    │             │    │  Service    │    │             │<br>└──────┬──────┘    └──────┬──────┘    └──────┬──────┘    └──────┬──────┘<br>       │                  │                  │                  │<br>       │ 1. Dispatch      │                  │                  │<br>       │ async action     │                  │                  │<br>       ├─────────────────►│                  │                  │<br>       │                  │                  │                  │<br>       │                  │ 2. Pending       │                  │<br>       │                  │ state            │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │                  │                  │ 3. API call      │<br>       │                  │                  ├─────────────────►│<br>       │                  │                  │                  │<br>       │                  │                  │ 4. Response      │<br>       │                  │                  │◄─────────────────┤<br>       │                  │                  │                  │<br>       │                  │ 5. Fulfilled/    │                  │<br>       │                  │ Rejected         │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │ 6. Component     │                  │                  │<br>       │ updates          │                  │                  │<br>       │◄─────────────────┤                  │                  │<br></code></pre></p><p><h2>Error Handling Data Flow</h2></p><p><h3>API Error Flow</h3><br><pre><code><br>┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐<br>│ Component   │    │   Redux     │    │   API       │    │   Backend   │<br>│             │    │   Store     │    │  Service    │    │             │<br>└──────┬──────┘    └──────┬──────┘    └──────┬──────┘    └──────┬──────┘<br>       │                  │                  │                  │<br>       │ 1. API request   │                  │                  │<br>       │ fails            │                  │                  │<br>       ├─────────────────►│                  │                  │<br>       │                  │                  │                  │<br>       │                  │ 2. Error         │                  │<br>       │                  │ response         │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │                  │                  │ 3. HTTP error    │<br>       │                  │                  │◄─────────────────┤<br>       │                  │                  │                  │<br>       │                  │ 4. Update error  │                  │<br>       │                  │ state            │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │ 5. Display error │                  │                  │<br>       │ message          │                  │                  │<br>       │◄─────────────────┤                  │                  │<br></code></pre></p><p><h2>Real-time Updates Flow</h2></p><p><h3>State Synchronization</h3><br><pre><code><br>┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐<br>│ Component A │    │   Redux     │    │ Component B │    │ Component C │<br>│             │    │   Store     │    │             │    │             │<br>└──────┬──────┘    └──────┬──────┘    └──────┬──────┘    └──────┬──────┘<br>       │                  │                  │                  │<br>       │ 1. Update data   │                  │                  │<br>       ├─────────────────►│                  │                  │<br>       │                  │                  │                  │<br>       │                  │ 2. State         │                  │<br>       │                  │ updated          │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │                  │ 3. State         │                  │<br>       │                  │ updated          │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │ 4. Re-render     │                  │ 5. Re-render     │ 6. Re-render<br>       │◄─────────────────┤                  │◄─────────────────┤◄─────────────────┤<br></code></pre></p><p><h2>Security Data Flow</h2></p><p><h3>JWT Token Validation</h3><br><pre><code><br>┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐<br>│   Client    │    │   Backend   │    │   JWT       │    │  Database   │<br>│             │    │ Middleware  │    │  Service    │    │             │<br>└──────┬──────┘    └──────┬──────┘    └──────┬──────┘    └──────┬──────┘<br>       │                  │                  │                  │<br>       │ 1. Request with  │                  │                  │<br>       │ JWT token        │                  │                  │<br>       ├─────────────────►│                  │                  │<br>       │                  │                  │                  │<br>       │                  │ 2. Extract      │                  │<br>       │                  │ token            │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │                  │                  │ 3. Verify token  │<br>       │                  │                  │                  │<br>       │                  │                  │ 4. Token valid   │<br>       │                  │                  │◄─────────────────┤<br>       │                  │                  │                  │<br>       │                  │ 5. Allow         │                  │<br>       │                  │ request          │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │ 6. Response      │                  │                  │<br>       │◄─────────────────┤                  │                  │<br></code></pre></p><p><h2>Performance Optimization Data Flow</h2></p><p><h3>Caching Strategy</h3><br><pre><code><br>┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐<br>│ Component   │    │   Redux     │    │   API       │    │   Backend   │<br>│             │    │   Store     │    │  Service    │    │             │<br>└──────┬──────┘    └──────┬──────┘    └──────┬──────┘    └──────┬──────┘<br>       │                  │                  │                  │<br>       │ 1. Request data  │                  │                  │<br>       ├─────────────────►│                  │                  │<br>       │                  │                  │                  │<br>       │                  │ 2. Check cache   │                  │<br>       │                  │                  │                  │<br>       │                  │ 3a. Cache hit    │                  │<br>       │                  │ - Return cached  │                  │<br>       │                  │   data           │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │                  │ 3b. Cache miss   │                  │<br>       │                  │ - Make API call  │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │                  │                  │ 4. API response  │<br>       │                  │                  │◄─────────────────┤<br>       │                  │                  │                  │<br>       │                  │ 5. Cache data    │                  │<br>       │                  │ and return       │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │ 6. Receive data  │                  │                  │<br>       │◄─────────────────┤                  │                  │<br></code></pre></p><p><h2>Data Validation Flow</h2></p><p><h3>Input Validation</h3><br><pre><code><br>┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐<br>│   Frontend  │    │   Backend   │    │ Validation  │    │  Database   │<br>│             │    │ Middleware  │    │  Service    │    │             │<br>└──────┬──────┘    └──────┬──────┘    └──────┬──────┘    └──────┬──────┘<br>       │                  │                  │                  │<br>       │ 1. Submit form   │                  │                  │<br>       │ data             │                  │                  │<br>       ├─────────────────►│                  │                  │<br>       │                  │                  │                  │<br>       │                  │ 2. Validate      │                  │<br>       │                  │ input            │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │                  │                  │ 3. Validation    │<br>       │                  │                  │ rules            │<br>       │                  │                  │                  │<br>       │                  │ 4a. Valid data   │                  │<br>       │                  │ - Process        │                  │<br>       │                  │   request        │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │                  │ 4b. Invalid data │                  │<br>       │                  │ - Return errors  │                  │<br>       │                  ├─────────────────►│                  │<br>       │                  │                  │                  │<br>       │ 5. Response      │                  │                  │<br>       │◄─────────────────┤                  │                  │<br></code></pre></p><p>This comprehensive data flow documentation provides a clear understanding of how data moves through the RBAC application, from user interactions to database operations and back to the user interface.<br></p>
    </div>
</body>
</html>